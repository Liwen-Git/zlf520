webpackJsonp([5],{BLIp:function(t,e){},TG0I:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("0xDb"),a=i("DHfu"),n=i("vLgD"),c=i("mw3O"),l=i.n(c);var o={data:function(){return{timeNum:1,startTime:"",endTime:"",startTime1:"",endTime1:"",show:!1,busy1:!0,loading:!1,showSelect:!1,timeActiveindex:0,transactionIndex:0,type:"",pickerValue:"",list:[],total:2,page:1,pageSize:10,calendarShow:!1,flag:!1,timeList:[{name:"全部",vlaue:""},{name:"今天",vlaue:"1"},{name:"最近7天",vlaue:"2"}],transactionState:[{name:"全部",state:""},{name:"提现",state:1},{name:"消费奖励",state:2},{name:"消费奖励退款",state:3}]}},components:{},mounted:function(){},methods:{reset:function(){this.timeActiveindex=0,this.transactionIndex=-1,this.startTime1="",this.endTime1="",this.startTime="",this.endTime=""},scrollFunc:function(t){var e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;e+(document.documentElement.clientHeight||document.body.clientHeight)>=(document.documentElement.scrollHeight||document.body.scrollHeight)&&!this.loading&&10*this.page<this.total&&(this.loading=!0,this.page++,this.getBillList()),!this.busy1&&e<=0&&(this.page=1,this.busy1=!0,this.getBillList())},submit:function(){this.page=1,this.showSelect=!1,document.documentElement.scrollTop=0,document.body.scrollTop=0,window.pageYOffset=0,this.getBillList()},getBillList:function(){var t,e=this;(t={startDate:this.startTime1?this.startTime1:this.startTime,endDate:this.endTime1?this.endTime1:this.endTime,type:this.type,page:this.page,pageSize:this.pageSize},Object(n.a)({transformRequest:[function(t){return l.a.stringify(t)}],headers:{deviceCode:"A95ZEF1-47B5-AC90BF3"},url:"/api/app/merchant/wallet/bill/list",method:"get",params:t})).then(function(t){e.total=t.data.total,1==e.page?(e.list=t.data.list,e.show=!0):e.list=e.list.concat(t.data.list),setTimeout(function(){e.flag=!1,e.loading=!1,e.busy1=!1},500)})},handelChange:function(t){1==this.timeNum?this.startTime1=t?Object(s.a)(t):"":this.endTime1=t?Object(s.a)(t):""},changetime:function(t){this.timeNum=t,this.calendarShow=!0,this.timeActiveindex=0},selectTime:function(t,e){switch(this.startTime1="",this.endTime1="",this.timeActiveindex=e,e){case 0:this.startTime="",this.endTime="";break;case 1:this.startTime=Object(s.a)(),this.endTime=Object(s.a)();break;case 2:this.endTime=Object(s.a)();var i=Date.parse(new Date)-5184e5;this.startTime=Object(s.a)(i);break;default:this.startTime="",this.endTime=""}},selectState:function(t,e){this.transactionIndex=e,this.type=t},selectShow:function(){this.showSelect=!this.showSelect},handleConfirm:function(t){1==this.timeNum?this.startTime1=this.pickerValue?Object(s.a)(this.pickerValue):"":this.endTime1=this.pickerValue?Object(s.a)(this.pickerValue):"",this.pickerValue=""},goBack:function(){Object(a.c)()}},created:function(){var t=this;Object(a.b)(this),setTimeout(function(){t.getBillList()},500),window.addEventListener("scroll",this.scrollFunc)},activated:function(){},watch:{$route:function(){},active:{handler:function(t){},deep:!0}}},d={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"bill",attrs:{id:"bill"}},[i("mt-header",{staticStyle:{height:".88rem","background-color":"#4a57ff",position:"fixed",width:"100%","z-index":"20"},attrs:{title:"账单"}},[i("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:t.goBack},slot:"left"}),t._v(" "),i("img",{class:t.showSelect?"active":"",staticStyle:{width:".4rem",height:".44rem"},attrs:{slot:"right",src:t.ImgUrl+"home/saixun.png",alt:""},on:{click:t.selectShow},slot:"right"})],1),t._v(" "),t.showSelect?i("div",{staticClass:"mask"}):t._e(),t._v(" "),i("div",{staticClass:"selectContent",class:t.showSelect?"active":""},[i("div",{staticClass:"selectBody"},[i("div",{staticClass:"title"},[t._v("交易日期")]),t._v(" "),i("div",{staticClass:"btnSelect"},t._l(t.timeList,function(e,s){return i("div",{key:s,class:t.timeActiveindex==s?"active":"",on:{click:function(i){t.selectTime(e.value,s)}}},[t._v("\n        "+t._s(e.name)+"\n        ")])})),t._v(" "),i("div",{staticClass:"btn_time"},[i("div",{on:{click:function(e){t.changetime(1)}}},[t.startTime1?i("span",[t._v(t._s(t.startTime1))]):i("span",[i("img",{attrs:{src:t.ImgUrl+"home/time.png"}}),t._v("开始时间")])]),t._v(" "),i("div",{on:{click:function(e){t.changetime(2)}}},[t.endTime1?i("span",[t._v(t._s(t.endTime1))]):i("span",[i("img",{attrs:{src:t.ImgUrl+"home/time.png"}}),t._v("结束时间")])])]),t._v(" "),i("div",{staticClass:"title er"},[t._v("交易类型")]),t._v(" "),i("div",{staticClass:"btnSelect1"},t._l(t.transactionState,function(e,s){return s<3?i("div",{key:s,class:t.transactionIndex==s?"active":"",on:{click:function(i){t.selectState(e.state,s)}}},[t._v("\n          "+t._s(e.name)+"\n        ")]):t._e()})),t._v(" "),i("div",{staticClass:"btnSelect1"},t._l(t.transactionState,function(e,s){return s>=3?i("div",{key:s,class:t.transactionIndex==s?"active":"",on:{click:function(i){t.selectState(e.state,s)}}},[t._v("\n          "+t._s(e.name)+"\n        ")]):t._e()})),t._v(" "),i("div",{staticClass:"bottom_sub"},[i("div",{staticClass:"rest",on:{click:t.reset}},[t._v("重置")]),t._v(" "),i("div",{staticClass:"submit",on:{click:t.submit}},[t._v("确定")])])]),t._v(" "),i("calendar",{on:{change:t.handelChange},model:{value:t.calendarShow,callback:function(e){t.calendarShow=e},expression:"calendarShow"}})],1),t._v(" "),i("div",{staticClass:"content"},[t.busy1?i("div",{staticClass:"loading"},[i("img",{attrs:{src:t.ImgUrl+"home/loading.gif",alt:""}})]):t._e(),t._v(" "),t._l(t.list,function(e,s){return i("div",{key:s,staticClass:"item_content"},[i("div",{staticClass:"top"},[i("div",[7==e.type||8==e.type?i("span",[t._v("提现")]):t._e(),t._v(" "),2==e.type?i("span",[t._v("被分享人消费奖励")]):t._e(),t._v(" "),4==e.type?i("span",[t._v("被分享人消费奖励退款")]):t._e()]),t._v(" "),1==e.inout_type?i("span",{staticClass:"addPrice"},[t._v("+"+t._s(e.amount))]):t._e(),t._v(" "),2==e.inout_type?i("span",{staticClass:"delPrica"},[t._v("-"+t._s(e.amount))]):t._e()]),t._v(" "),i("div",{staticClass:"bottom"},[i("span",[t._v(t._s(e.updated_at))]),t._v(" "),1==e.status||2==e.status?i("span",[t._v("提现中")]):t._e(),t._v(" "),3==e.status?i("span",[t._v("提现成功")]):t._e(),t._v(" "),7!=e.type||4!=e.status&&5!=e.status?t._e():i("span",[t._v("提现失败")])])])}),t._v(" "),t.loading?i("div",{staticClass:"loading"},[i("img",{attrs:{src:t.ImgUrl+"home/loading.gif",alt:""}})]):t._e(),t._v(" "),10*t.page>t.total&&0!=t.list.length?i("div",{staticClass:"di"},[t._v("一一 我是有底线的 一一")]):t._e()],2),t._v(" "),0==t.list.length&&t.show?i("div",{staticClass:"nodata"},[i("div",[i("div",[i("img",{attrs:{src:t.ImgUrl+"home/nodata.png"}})]),t._v(" "),i("div",[t._v("暂无账户交易数据")])])]):t._e()],1)},staticRenderFns:[]};var r=i("VU/8")(o,d,!1,function(t){i("BLIp")},"data-v-13a09897",null);e.default=r.exports}});
//# sourceMappingURL=5.5e145a1424314a84372e.js.map